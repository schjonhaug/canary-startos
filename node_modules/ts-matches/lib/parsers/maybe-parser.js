"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MaybeParser = void 0;
class MaybeParser {
    parent;
    description;
    constructor(parent, description = {
        name: "Maybe",
        children: [parent],
        extras: [],
    }) {
        this.parent = parent;
        this.description = description;
    }
    parse(a, onParse) {
        if (a === undefined) {
            return onParse.parsed(undefined);
        }
        const parser = this;
        const parentState = this.parent.enumParsed(a);
        if ("error" in parentState) {
            const { error } = parentState;
            error.parser = parser;
            return onParse.invalid(error);
        }
        return onParse.parsed(parentState.value);
    }
}
exports.MaybeParser = MaybeParser;
//# sourceMappingURL=maybe-parser.js.map