import * as T from "../../../base/lib/types";
import { MountOptions } from "../util/SubContainer";
type MountArray = {
    mountpoint: string;
    options: MountOptions;
}[];
type SharedOptions = {
    /** The path within the resource to mount. Use `null` to mount the entire resource */
    subpath: string | null;
    /** Where to mount the resource. e.g. /data */
    mountpoint: string;
    /**
     * Whether to mount this as a file or directory
     *
     * defaults to "directory"
     * */
    type?: "file" | "directory" | "infer";
};
type VolumeOpts<Manifest extends T.SDKManifest> = {
    /** The ID of the volume to mount. Must be one of the volume IDs defined in the manifest */
    volumeId: Manifest["volumes"][number];
    /** Whether or not the resource should be readonly for this subcontainer */
    readonly: boolean;
} & SharedOptions;
type DependencyOpts<Manifest extends T.SDKManifest> = {
    /** The ID of the dependency */
    dependencyId: Manifest["id"];
    /** The ID of the volume to mount. Must be one of the volume IDs defined in the manifest of the dependency */
    volumeId: Manifest["volumes"][number];
    /** Whether or not the resource should be readonly for this subcontainer */
    readonly: boolean;
} & SharedOptions;
export declare class Mounts<Manifest extends T.SDKManifest, Backups extends SharedOptions = never> {
    readonly volumes: VolumeOpts<Manifest>[];
    readonly assets: SharedOptions[];
    readonly dependencies: DependencyOpts<T.SDKManifest>[];
    readonly backups: Backups[];
    private constructor();
    static of<Manifest extends T.SDKManifest>(): Mounts<Manifest, never>;
    mountVolume(options: VolumeOpts<Manifest>): Mounts<Manifest, Backups>;
    mountAssets(options: SharedOptions): Mounts<Manifest, Backups>;
    mountDependency<DependencyManifest extends T.SDKManifest>(options: DependencyOpts<DependencyManifest>): Mounts<Manifest, Backups>;
    mountBackups(options: SharedOptions): Mounts<Manifest, {
        subpath: string | null;
        mountpoint: string;
    }>;
    build(): MountArray;
}
export {};
