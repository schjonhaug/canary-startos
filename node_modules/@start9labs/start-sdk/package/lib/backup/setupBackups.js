"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.setupBackups = setupBackups;
const Backups_1 = require("./Backups");
function setupBackups(options) {
    let backupsFactory;
    if (options instanceof Function) {
        backupsFactory = options;
    }
    else {
        backupsFactory = async () => Backups_1.Backups.ofVolumes(...options);
    }
    const answer = {
        get createBackup() {
            return (async (options) => {
                return (await backupsFactory(options)).createBackup(options.effects);
            });
        },
        get restoreInit() {
            return {
                init: async (effects, kind) => {
                    return (await backupsFactory({ effects })).init(effects, kind);
                },
            };
        },
    };
    return answer;
}
//# sourceMappingURL=setupBackups.js.map